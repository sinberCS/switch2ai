<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.github.switch2ai</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>switch2ai</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="sinber@mail.ustc.edu.cn" url="https://github.com/sinberCS">sinberCS</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
            <p>switch2ai is a JetBrains IDE plugin that enables seamless collaboration between JetBrains IDEs and various AI agents (Cursor, Qoder, Claude code etc.). Key features include instant switching between different AI editors, rapid AI prompt input with AI selection, and fully configurable custom commands with variable support for enhanced AI collaboration workflow.</p>
            
            <p><strong>GitHub:</strong> <a href="https://github.com/sinberCS/switch2ai">https://github.com/sinberCS/switch2ai</a></p>

    <h2>Key Features</h2>
    <ul>
        <li>Instant AI Editor Switching</li>
        <li>Maintain exact cursor position (line and column)</li>
        <li>Support multiple AI agents: Cursor, Qoder, Claude Code, and more</li>
        <li>Rapid AI prompt input with AI selection</li>
        <li>Support for shortcut commands like $test, $refactor, $explain</li>
        <li>Convenient shortcuts (customizable):
            <ul>
                <li>Alt+Shift+K - Open AI prompt input popup</li>
                <li>Alt+Shift+P - Open project in Cursor Editor</li>
                <li>Alt+Shift+O - Open current file in Cursor Editor</li>
                <li>Alt+Shift+U - Open current file in Qoder</li>
                <li>Alt+Shift+I - Open project in Qoder</li>
            </ul>
        </li>
        <li>Multiple access methods: shortcuts, context menu, tools menu</li>
        <li>Fully configurable custom commands with variable support</li>
        <li>Dynamic command registration and management</li>
    </ul>

    <h2>Usage</h2>
    <ul>
        <li>AI Prompt Input:
            <ul>
                <li>Press Alt+Shift+K</li>
                <li>Select AI agent from dropdown</li>
                <li>Input prompts with shortcut command support</li>
            </ul>
        </li>
        <li>Open current file in Cursor:
            <ul>
                <li>Press Alt+Shift+O</li>
                <li>Right-click in editor â†’ Open File In Cursor</li>
                <li>Tools menu â†’ Open File In Cursor</li>
            </ul>
        </li>
        <li>Open project in Cursor:
            <ul>
                <li>Press Alt+Shift+P</li>
                <li>Right-click in project view â†’ Open Project In Cursor</li>
                <li>Tools menu â†’ Open Project In Cursor</li>
            </ul>
        </li>
        <li>Open in Qoder:
            <ul>
                <li>Press Alt+Shift+U (file) or Alt+Shift+I (project)</li>
                <li>Right-click in editor â†’ Open In Qoder</li>
                <li>Tools menu â†’ Open In Qoder</li>
            </ul>
        </li>
    </ul>

    <h2>Configuration</h2>
    <ul>
        <li>Go to Settings/Preferences â†’ Tools â†’ switch2ai</li>
        <li>AI Configuration tab: Configure AI agents and command templates</li>
        <li>Custom Commands tab: Configure custom commands with variable support</li>
        <li>Shortcut Commands tab: Set up shortcut commands like $test, $refactor</li>
        <li>Customize shortcuts in Keymap settings</li>
    </ul>

    <h2>Requirements</h2>
    <ul>
        <li>Any AI editor installed (Cursor, Qoder, Claude code, etc.)</li>
        <li>Compatible with all JetBrains IDEs</li>
        <li>Supported IDE versions: 2022.3 and above</li>
        <li>Terminal plugin enabled for integrated terminal execution</li>
    </ul>

    <hr/>

            <p>switch2ai æ˜¯ä¸€ä¸ª JetBrains IDE æ’ä»¶ï¼Œå®ç° JetBrains IDE ä¸å„ç§ AI ä»£ç†ï¼ˆCursorã€Qoderã€Claude code ç­‰ï¼‰ä¹‹é—´çš„æ— ç¼åä½œã€‚ä¸»è¦åŠŸèƒ½åŒ…æ‹¬åœ¨ä¸åŒ AI ç¼–è¾‘å™¨ä¹‹é—´å³æ—¶åˆ‡æ¢ã€æ”¯æŒ AI é€‰æ‹©çš„å¿«é€Ÿ AI æç¤ºè¯è¾“å…¥ï¼Œä»¥åŠæ”¯æŒå˜é‡çš„å®Œå…¨å¯é…ç½®è‡ªå®šä¹‰å‘½ä»¤ï¼Œä¸ºå¢å¼ºçš„ AI åä½œå·¥ä½œæµç¨‹æä¾›æ”¯æŒã€‚</p>
            
            <p><strong>GitHub:</strong> <a href="https://github.com/sinberCS/switch2ai">https://github.com/sinberCS/switch2ai</a></p>

    <h2>ä¸»è¦ç‰¹æ€§</h2>
    <ul>
        <li>å³æ—¶ AI ç¼–è¾‘å™¨åˆ‡æ¢</li>
        <li>ç²¾ç¡®ä¿æŒå…‰æ ‡ä½ç½®ï¼ˆè¡Œå·å’Œåˆ—å·ï¼‰</li>
        <li>æ”¯æŒå¤šç§ AI ä»£ç†ï¼šCursorã€Qoderã€Claude Code ç­‰</li>
        <li>æ”¯æŒ AI é€‰æ‹©çš„å¿«é€Ÿæç¤ºè¯è¾“å…¥å¼¹çª—</li>
        <li>æ”¯æŒå¿«æ·å‘½ä»¤å¦‚ $testã€$refactorã€$explain</li>
        <li>ä¾¿æ·çš„å¿«æ·é”®ï¼ˆå¯è‡ªå®šä¹‰ï¼‰:
            <ul>
                <li>Alt+Shift+K - æ‰“å¼€ AI æç¤ºè¯è¾“å…¥å¼¹çª—</li>
                <li>Alt+Shift+P - åœ¨ Cursor ç¼–è¾‘å™¨ä¸­æ‰“å¼€é¡¹ç›®</li>
                <li>Alt+Shift+O - åœ¨ Cursor ç¼–è¾‘å™¨ä¸­æ‰“å¼€å½“å‰æ–‡ä»¶</li>
                <li>Alt+Shift+U - åœ¨ Qoder ä¸­æ‰“å¼€å½“å‰æ–‡ä»¶</li>
                <li>Alt+Shift+I - åœ¨ Qoder ä¸­æ‰“å¼€é¡¹ç›®</li>
            </ul>
        </li>
        <li>å¤šç§è®¿é—®æ–¹å¼ï¼šå¿«æ·é”®ã€å³é”®èœå•ã€å·¥å…·èœå•</li>
        <li>æ”¯æŒå˜é‡çš„å®Œå…¨å¯é…ç½®è‡ªå®šä¹‰å‘½ä»¤</li>
        <li>åŠ¨æ€å‘½ä»¤æ³¨å†Œå’Œç®¡ç†</li>
    </ul>

    <h2>ä½¿ç”¨æ–¹æ³•</h2>
    <ul>
        <li>AI æç¤ºè¯è¾“å…¥:
            <ul>
                <li>æŒ‰ä¸‹ Alt+Shift+K</li>
                <li>ä»ä¸‹æ‹‰èœå•é€‰æ‹© AI ä»£ç†</li>
                <li>è¾“å…¥æç¤ºè¯ï¼Œæ”¯æŒå¿«æ·å‘½ä»¤</li>
            </ul>
        </li>
        <li>åœ¨ Cursor ç¼–è¾‘å™¨ä¸­æ‰“å¼€å½“å‰æ–‡ä»¶:
            <ul>
                <li>æŒ‰ä¸‹ Alt+Shift+O</li>
                <li>åœ¨ç¼–è¾‘å™¨ä¸­å³é”® â†’ åœ¨ Cursor ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶</li>
                <li>å·¥å…·èœå• â†’ åœ¨ Cursor ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶</li>
            </ul>
        </li>
        <li>åœ¨ Cursor ç¼–è¾‘å™¨ä¸­æ‰“å¼€é¡¹ç›®:
            <ul>
                <li>æŒ‰ä¸‹ Alt+Shift+P</li>
                <li>åœ¨é¡¹ç›®è§†å›¾ä¸­å³é”® â†’ åœ¨ Cursor ç¼–è¾‘å™¨ä¸­æ‰“å¼€é¡¹ç›®</li>
                <li>å·¥å…·èœå• â†’ åœ¨ Cursor ç¼–è¾‘å™¨ä¸­æ‰“å¼€é¡¹ç›®</li>
            </ul>
        </li>
        <li>åœ¨ Qoder ä¸­æ‰“å¼€:
            <ul>
                <li>æŒ‰ä¸‹ Alt+Shift+U (æ–‡ä»¶) æˆ– Alt+Shift+I (é¡¹ç›®)</li>
                <li>åœ¨ç¼–è¾‘å™¨ä¸­å³é”® â†’ åœ¨ Qoder ä¸­æ‰“å¼€</li>
                <li>å·¥å…·èœå• â†’ åœ¨ Qoder ä¸­æ‰“å¼€</li>
            </ul>
        </li>
    </ul>

    <h2>é…ç½®è¯´æ˜</h2>
    <ul>
        <li>è¿›å…¥ Settings/Preferences â†’ Tools â†’ switch2ai</li>
        <li>AI é…ç½®é€‰é¡¹å¡ï¼šé…ç½® AI ä»£ç†å’Œå‘½ä»¤æ¨¡æ¿</li>
        <li>è‡ªå®šä¹‰å‘½ä»¤é€‰é¡¹å¡ï¼šé…ç½®æ”¯æŒå˜é‡æ›¿æ¢çš„è‡ªå®šä¹‰å‘½ä»¤</li>
        <li>å¿«æ·å‘½ä»¤é€‰é¡¹å¡ï¼šè®¾ç½®å¿«æ·å‘½ä»¤å¦‚ $testã€$refactor</li>
        <li>é€šè¿‡ Keymap è®¾ç½®è‡ªå®šä¹‰å¿«æ·é”®</li>
    </ul>

    <h2>ç³»ç»Ÿè¦æ±‚</h2>
    <ul>
        <li>å·²å®‰è£…ä»»æ„ AI ç¼–è¾‘å™¨ï¼ˆCursorã€Qoderã€Claude code ç­‰ï¼‰</li>
        <li>å…¼å®¹æ‰€æœ‰ JetBrains IDE</li>
        <li>æ”¯æŒçš„ IDE ç‰ˆæœ¬ï¼š2022.3 åŠä»¥ä¸Š</li>
        <li>å¯ç”¨ Terminal æ’ä»¶ä»¥æ”¯æŒé›†æˆç»ˆç«¯æ‰§è¡Œ</li>
    </ul>
    ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>org.jetbrains.plugins.terminal</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.github.switch2ai.config.settings.AppSettingsState"/>
        
        <!-- New Action Registry -->
        <projectService serviceImplementation="com.github.switch2ai.actions.registry.DynamicActionRegistry"/>
        
        <!-- New Configuration Interface -->
        <applicationConfigurable
            parentId="tools"
            instance="com.github.switch2ai.config.settings.AppSettingsConfigurable"
            id="com.github.switch2ai.config.settings.AppSettingsConfigurable"
            displayName="Switch2AI"/>
        
        <!-- New Project Startup Listener -->
        <postStartupActivity implementation="com.github.switch2ai.core.startup.ProjectStartupListener"/>
    </extensions>

    <actions>
        <!-- æ–°ç‰ˆåŠŸèƒ½é€šè¿‡åŠ¨æ€æ³¨å†Œå®ç°ï¼Œä¸éœ€è¦åœ¨è¿™é‡Œé¢„å…ˆå®šä¹‰ -->
    </actions>

    <change-notes><![CDATA[
        <h3>0.1.2</h3>
        <ul>
            <li>ğŸš€ Support multiple AI agents (Cursor, Qoder, Claude Code)</li>
            <li>ğŸ¤– Implement AI prompt input popup with AI selection</li>
            <li>âš¡  shortcut command support ($test, $refactor, $explain, etc.)</li>
            <li>ğŸ”§ Dynamic command registration and management system</li>
            <li>ğŸ“ Comprehensive configuration interface with three tabs</li>
            <li>ğŸ” Enhanced variable support: $filePath, $projectPath, $line, $column, $selectedText, $prompt</li>
        </ul>

        <hr/>

        <ul>
            <li>ğŸš€ å¤š AI ä»£ç†æ”¯æŒï¼ˆCursorã€Qoderã€Claude Codeï¼‰</li>
            <li>ğŸ¤– å®ç°æ”¯æŒ AI é€‰æ‹©çš„æç¤ºè¯è¾“å…¥å¼¹çª—</li>
            <li>âš¡  å¿«æ·å‘½ä»¤æ”¯æŒï¼ˆ$testã€$refactorã€$explain ç­‰ï¼‰</li>
            <li>ğŸ”§ åŠ¨æ€å‘½ä»¤æ³¨å†Œå’Œç®¡ç†ç³»ç»Ÿ</li>
            <li>ğŸ“ å…¨é¢çš„é…ç½®ç•Œé¢ï¼ŒåŒ…å«ä¸‰ä¸ªé€‰é¡¹å¡</li>
            <li>ğŸ” å¢å¼ºçš„å˜é‡æ”¯æŒï¼š$filePathã€$projectPathã€$lineã€$columnã€$selectedTextã€$prompt</li>
        </ul>

    ]]></change-notes>
</idea-plugin>