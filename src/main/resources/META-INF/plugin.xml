<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.github.switch2ai</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>switch2ai</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="sinber@mail.ustc.edu.cn" url="https://github.com/sinberCS">sinberCS</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
            <p>switch2ai is a JetBrains IDE plugin that enables seamless switching between IDE and Any Agent Editor while maintaining precise cursor position.</p>

    <h2>Key Features</h2>
    <ul>
        <li>Open files in Cursor with one click</li>
        <li>Maintain exact cursor position (line and column)</li>
        <li>Support opening entire projects in Cursor</li>
        <li>Convenient shortcuts (customizable):
            <ul>
                <li>Alt+Shift+O - Open current file</li>
                <li>Alt+Shift+P - Open current project</li>
            </ul>
        </li>
        <li>Multiple access methods: shortcuts, context menu, tools menu</li>
    </ul>

    <h2>Usage</h2>
    <ul>
        <li>Open current file:
            <ul>
                <li>Press Alt+Shift+O</li>
                <li>Right-click in editor â†’ Open File In Cursor</li>
                <li>Tools menu â†’ Open File In Cursor</li>
            </ul>
        </li>
        <li>Open project:
            <ul>
                <li>Press Alt+Shift+P</li>
                <li>Right-click in project view â†’ Open Project In Cursor</li>
                <li>Tools menu â†’ Open Project In Cursor</li>
            </ul>
        </li>
    </ul>

    <h2>Configuration</h2>
    <ul>
                        <li>Go to Settings/Preferences â†’ Tools â†’ switch2ai</li>
        <li>Set Cursor executable path (default is "cursor")</li>
        <li>Customize shortcuts in Keymap settings</li>
    </ul>

    <h2>Requirements</h2>
    <ul>
        <li>Cursor Editor installed (<a href="https://cursor.sh">https://cursor.sh</a>)</li>
        <li>Compatible with all JetBrains IDEs</li>
        <li>Supported IDE versions: 2022.3 and above</li>
    </ul>

    <hr/>

            <p>switch2ai æ˜¯ä¸€ä¸ª JetBrains IDE æ’ä»¶ï¼Œå¯ä»¥è®©ä½ åœ¨ IDE å’Œä»»æ„ Agent ç¼–è¾‘å™¨ä¹‹é—´æ— ç¼åˆ‡æ¢ï¼Œå¹¶ä¿æŒç²¾ç¡®çš„å…‰æ ‡ä½ç½®ã€‚</p>

    <h2>ä¸»è¦ç‰¹æ€§</h2>
    <ul>
        <li>ä¸€é”®åœ¨ Cursor ä¸­æ‰“å¼€æ–‡ä»¶</li>
        <li>ç²¾ç¡®ä¿æŒå…‰æ ‡ä½ç½®ï¼ˆè¡Œå·å’Œåˆ—å·ï¼‰</li>
        <li>æ”¯æŒåœ¨ Cursor ä¸­æ‰“å¼€æ•´ä¸ªé¡¹ç›®</li>
        <li>ä¾¿æ·çš„å¿«æ·é”®ï¼ˆå¯è‡ªå®šä¹‰ï¼‰:
            <ul>
                <li>Alt+Shift+O - æ‰“å¼€å½“å‰æ–‡ä»¶</li>
                <li>Alt+Shift+P - æ‰“å¼€å½“å‰é¡¹ç›®</li>
            </ul>
        </li>
        <li>å¤šç§è®¿é—®æ–¹å¼ï¼šå¿«æ·é”®ã€å³é”®èœå•ã€å·¥å…·èœå•</li>
    </ul>

    <h2>ä½¿ç”¨æ–¹æ³•</h2>
    <ul>
        <li>æ‰“å¼€å½“å‰æ–‡ä»¶:
            <ul>
                <li>æŒ‰ä¸‹ Alt+Shift+O</li>
                <li>åœ¨ç¼–è¾‘å™¨ä¸­å³é”® â†’ Open File In Cursor</li>
                <li>å·¥å…·èœå• â†’ Open File In Cursor</li>
            </ul>
        </li>
        <li>æ‰“å¼€é¡¹ç›®:
            <ul>
                <li>æŒ‰ä¸‹ Alt+Shift+P</li>
                <li>åœ¨é¡¹ç›®è§†å›¾ä¸­å³é”® â†’ Open Project In Cursor</li>
                <li>å·¥å…·èœå• â†’ Open Project In Cursor</li>
            </ul>
        </li>
    </ul>

    <h2>é…ç½®è¯´æ˜</h2>
    <ul>
                        <li>è¿›å…¥ Settings/Preferences â†’ Tools â†’ switch2ai</li>
        <li>è®¾ç½® Cursor å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ä¸º "cursor"ï¼‰</li>
        <li>é€šè¿‡ Keymap è®¾ç½®è‡ªå®šä¹‰å¿«æ·é”®</li>
    </ul>

    <h2>ç³»ç»Ÿè¦æ±‚</h2>
    <ul>
        <li>å·²å®‰è£… Cursor Editor (<a href="https://cursor.sh">https://cursor.sh</a>)</li>
        <li>å…¼å®¹æ‰€æœ‰ JetBrains IDE</li>
        <li>æ”¯æŒçš„ IDE ç‰ˆæœ¬ï¼š2022.3 åŠä»¥ä¸Š</li>
    </ul>
    ]]></description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>org.jetbrains.plugins.terminal</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.github.switch2ai.config.settings.AppSettingsState"/>
        
        <!-- New Action Registry -->
        <projectService serviceImplementation="com.github.switch2ai.actions.registry.DynamicActionRegistry"/>
        
        <!-- New Configuration Interface -->
        <applicationConfigurable
            parentId="tools"
            instance="com.github.switch2ai.config.settings.AppSettingsConfigurable"
            id="com.github.switch2ai.config.settings.AppSettingsConfigurable"
            displayName="Switch2AI"/>
        
        <!-- New Project Startup Listener -->
        <postStartupActivity implementation="com.github.switch2ai.core.startup.ProjectStartupListener"/>
    </extensions>

    <actions>
        <!-- æ–°ç‰ˆåŠŸèƒ½é€šè¿‡åŠ¨æ€æ³¨å†Œå®ç°ï¼Œä¸éœ€è¦åœ¨è¿™é‡Œé¢„å…ˆå®šä¹‰ -->
    </actions>

    <change-notes><![CDATA[
        <h3>0.1.0</h3>
        <ul>
            <li>âœ¨ Add custom command execution feature with variable support</li>
            <li>ğŸ”§ Support custom shortcuts for custom commands</li>
            <li>ğŸ“ Add configuration for custom commands and shortcuts</li>
            <li>ğŸ” Support variable replacement: $filePath, $line, $column</li>
        </ul>

        <hr/>

        <ul>
            <li>âœ¨ æ–°å¢è‡ªå®šä¹‰å‘½ä»¤æ‰§è¡ŒåŠŸèƒ½ï¼Œæ”¯æŒå˜é‡æ›¿æ¢</li>
            <li>ğŸ”§ æ”¯æŒè‡ªå®šä¹‰å‘½ä»¤çš„å¿«æ·é”®é…ç½®</li>
            <li>ğŸ“ æ–°å¢è‡ªå®šä¹‰å‘½ä»¤å’Œå¿«æ·é”®çš„é…ç½®ç•Œé¢</li>
            <li>ğŸ” æ”¯æŒå˜é‡æ›¿æ¢ï¼š$filePathã€$lineã€$column</li>
        </ul>

        <h3>1.0.3</h3>
        <ul>
            <li>âš¡ï¸ Update action update thread to background thread for better performance</li>
        </ul>

        <hr/>

        <ul>
            <li>âš¡ï¸ å°†åŠ¨ä½œæ›´æ–°çº¿ç¨‹æ”¹ä¸ºåå°çº¿ç¨‹ä»¥æå‡æ€§èƒ½</li>
        </ul>

        <h3>1.0.2</h3>
        <ul>
            <li>âš¡ï¸ Support JetBrains IDEs from version 2022.3</li>
            <li>ğŸ› Fix DirectoryChooserPopupMenu registration issue</li>
        </ul>

        <hr/>

        <ul>
            <li>âš¡ï¸ æ”¯æŒ JetBrains IDEs 2022.3 å¼€å§‹ä»¥åŠä»¥åçš„ç‰ˆæœ¬</li>
            <li>ğŸ› ä¿®å¤ DirectoryChooserPopupMenu æ³¨å†Œé—®é¢˜</li>
        </ul>
        <h3>1.0.1</h3>
        <ul>
            <li>ğŸ› Fix the issue of not being able to activate the Cursor window on Windows</li>
        </ul>

        <hr/>
        
        <ul>
            <li>ğŸ› ä¿®å¤åœ¨ Windows ä¸Šæ— æ³•æ¿€æ´» Cursor çª—å£çš„é—®é¢˜</li>
        </ul>
        
        <h3>1.0.0</h3>
        <ul>
            <li>âœ¨ Support opening files and projects in Cursor</li>
            <li>ğŸ”§ Configure Cursor executable path</li>
            <li>âŒ¨ï¸ Access via shortcuts, context menu and toolbar</li>
        </ul>

        <hr/>

        <ul>
            <li>âœ¨ æ”¯æŒåœ¨ Cursor ä¸­æ‰“å¼€æ–‡ä»¶å’Œé¡¹ç›®</li>
            <li>ğŸ”§ æ”¯æŒé…ç½® Cursor å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</li>
            <li>âŒ¨ï¸ æ”¯æŒå¿«æ·é”®ã€å³é”®èœå•å’Œå·¥å…·æ è®¿é—®</li>
        </ul>
    ]]></change-notes>
</idea-plugin>